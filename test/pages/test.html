<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="./assets/main.css">
<link rel="stylesheet" href="../../dist/css/sa11y.min.css" />

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sa11y Unit Tests</title>
</head>

<body>
  <header>
    <h1>Sa11y Unit Tests</h1>
  </header>
  <main>
    <p id="test">No errors on this page.</p>

    <a href="#content" id="skip" aria-labelledby="content">sssst</a>

    <hr>
    <a href="#content2">Asfasf </a>

    <span id="">Testing</span>
    <button id="play">Play</button>
    <button id="play">Play</button>

    <h2>Shadow DOM</h2>
    <div id="error-shadow-dom" class="shadow-root"></div>

  </main>
  <footer></footer>
  <script>
    class shadowTest extends HTMLElement {
      constructor() {
        super();
      }
      connectedCallback() {
        if (!this.initialized) {
          const shadow = this.attachShadow({ mode: 'open' });
          const div = document.createElement('div');
          div.innerHTML = `
          <h3 id="test">Duplicate ID in shadow DOM</h3>
          <a href="#testy">Skip to content</a>
          <p id="test">Lorem ipsum</p>
          <p id="testy" style="margin-top:900px">Some content here.</p>
          `
          shadow.appendChild(div);
          this.initialized = true;
        }
      }
    }
    customElements.define('shadow-test', shadowTest);
    document.querySelectorAll('.shadow-root').forEach(($el) => {
      let testShadowElement = document.createElement('shadow-test');
      $el.append(testShadowElement);
    })
  </script>
  <script src="../../dist/js/sa11y.umd.min.js"></script>
  <script src="../../dist/js/lang/en.umd.js"></script>
  <script>
    Sa11y.Lang.addI18n(Sa11yLangEn.strings);
    const sa11y = new Sa11y.Sa11y({
      checkRoot: "main",
      autoDetectShadowComponents: true,
    });
  </script>
</body>

</html>