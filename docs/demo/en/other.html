<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Other - Sa11y Demo</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous">
  <meta name="theme-color" content="#7952b3">
  <link rel="icon" href="../assets/favicon.ico" />
  <link href="../assets/main.css" rel="stylesheet">
  <link rel="stylesheet" href="../../assets/css/sa11y.min.css" />
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
      <div class="container">
        <span class="navbar-brand mb-0 h1">Sa11y Demo <span id="v"
            class="badge bg-info text-dark"></span></span>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse" aria-controls="navbarCollapse"
          aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav ms-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Everything</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="toggleable.html">Toggleable</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="custom.html">Custom checks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="other.html">Other</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="errors.html">Errors</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="warnings.html">Warnings</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="pass.html">Good</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="rtl.html">RTL</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="container">
      <div class="p-5 mb-3 rounded text-center">
        <h2>Other</h2>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-2">
          <div id="list-example" class="list-group sticky-top">
            <strong class="mt-1 mb-2">On this page:</strong>
            <a class="list-group-item list-group-item-action" href="#list-item-0">Page
              language</a>
            <a class="list-group-item list-group-item-action" href="#list-item-1">Audio
              and video</a>
            <a class="list-group-item list-group-item-action"
              href="#list-item-3">iFrames</a>
            <a class="list-group-item list-group-item-action"
              href="#list-item-4">Detecting URL changes</a>
          </div>
        </div>

        <div class="col-md-10">
          <div data-spy="scroll" data-target="#list-example" data-offset="0"
            class="scrollspy-example">

            <h2 id="list-item-0">Page language</h2>
            <p>Checks for presence of <kbd>lang</kbd> attribute on <kbd>&lt;html&gt;</kbd>
              tag. If attribute is missing,
              an error banner will be appended at the top of the page.</p>

            <hr class="mt-5">

            <h2 id="list-item-1">Audio and video</h2>
            <p>This condition is meant to act as a friendly reminder. Videos will receive
              a warning to ensure captions
              are available. Audio will receive a warning to ensure the podcast/audio has
              a transcript. This condition
              does <strong>not</strong> test whether captions or transcripts are present.
              Customize this condition by
              adding your own media streaming sources.</p>

            <div class="row">
              <div class="col-md-4">
                <div class="example h-100">
                  <h3>iFrame with video source</h3>
                  <div class="ratio ratio-16x9">
                    <iframe class="embed-responsive" width="560" height="315"
                      src="https://www.youtube.com/embed/HgzGwKwLmgM"
                      title="Queen - Don't stop me now." frameborder="0"
                      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                      allowfullscreen></iframe>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="example h-100">
                  <h3>Video does not have <code>&lt;track&gt;</code> element</h3>
                  <div class="ratio ratio-16x9">
                    <video width="320" height="240" controls>
                      <source src="https://www.w3schools.com/html/movie.mp4"
                        type="video/mp4">
                      <source src="https://www.w3schools.com/html/movie.ogg"
                        type="video/ogg">
                      Your browser does not support the video tag.
                    </video>
                  </div>
                  <p class="text-center"><small>Video Source: W3Schools</small></p>
                </div>
              </div>
              <div class="col-md-4">
                <div class="example h-100">
                  <h3>Video has <code>&lt;track&gt;</code> element</h3>
                  <div class="ratio ratio-16x9">
                    <video width="300" controls
                      src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/friday.mp4">
                      <track default kind="captions" srclang="en"
                        src="../assets/friday.vtt" />
                      Sorry, your browser doesn't support embedded videos.
                    </video>
                  </div>
                  <p class="text-center"><small>Video Source: MDN WebDocs</small></p>
                </div>
              </div>
            </div>
            <div class="row mt-5">
              <div class="col-md-4">
                <div class="example h-100">
                  <h3>iFrame with video source</h3>
                  <div class="ratio ratio-16x9">
                    <iframe title='Embedded Media titled: The Next Chapter' width="560"
                      height="315"
                      src="https://stream.torontomu.ca/V/Video?v=580978&node=2242356&a=184831508&preload=false"
                      frameborder="0" webkitallowfullscreen mozallowfullscreen
                      allowfullscreen loading="lazy"></iframe>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="example">
                  <h3>iFrame with audio source</h3>
                  <div class="ratio ratio-16x9">
                    <iframe title="SoundCloud widget" width="100%" height="300"
                      scrolling="no" frameborder="no" allow="autoplay"
                      src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/158888399&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="example">
                  <h3><code>&lt;audio&gt;</code> source</h3>
                  <audio controls>
                    <source src="https://www.w3schools.com/html/horse.ogg"
                      type="audio/ogg">
                    <source src="https://www.w3schools.com/html/horse.mp3"
                      type="audio/mpeg">
                    Your browser does not support the audio element.
                  </audio>
                  <p class="text-center"><small>Video Source: W3Schools</small></p>
                </div>

              </div>
            </div>

            <hr class="mt-5">

            <h2 id="list-item-3" class="pt-3">Other iFrames warnings</h2>
            <div class="row">
              <div class="col-md-6">
                <div class="example h-100">
                  <h3 class="h5">Missing title on iFrame</h3>
                  <iframe height="300" loading="lazy"
                    src="https://sa11y.netlify.app"></iframe>
                </div>
              </div>
              <div class="col-md-6">
                <div class="example">
                  <div class='tableauPlaceholder' id='viz1681528526890'
                    style='position: relative'>
                    <noscript><a href='https:&#47;&#47;www.torontomu.ca&#47;'><img
                          alt='2016-2020 Representation of  at Toronto Metropolitan University '
                          src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;EM&#47;EMP_REP&#47;EmployeeRepresentation2&#47;1_rss.png'
                          style='border: none' /></a></noscript><object class='tableauViz'
                      style='display:none;'>
                      <param name='host_url'
                        value='https%3A%2F%2Fpublic.tableau.com%2F' />
                      <param name='embed_code_version' value='3' />
                      <param name='site_root' value='' />
                      <param name='name' value='EMP_REP&#47;EmployeeRepresentation2' />
                      <param name='tabs' value='no' />
                      <param name='toolbar' value='yes' />
                      <param name='static_image'
                        value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;EM&#47;EMP_REP&#47;EmployeeRepresentation2&#47;1.png' />
                      <param name='animate_transition' value='yes' />
                      <param name='display_static_image' value='yes' />
                      <param name='display_spinner' value='yes' />
                      <param name='display_overlay' value='yes' />
                      <param name='display_count' value='yes' />
                      <param name='language' value='en-US' />
                    </object>
                  </div>
                  <script
                    type='text/javascript'>                    var divElement = document.getElementById('viz1681528526890'); var vizElement = divElement.getElementsByTagName('object')[0]; if (divElement.offsetWidth > 800) { vizElement.style.width = '945px'; vizElement.style.height = '447px'; } else if (divElement.offsetWidth > 500) { vizElement.style.width = '945px'; vizElement.style.height = '447px'; } else { vizElement.style.width = '100%'; vizElement.style.height = '427px'; } var scriptElement = document.createElement('script'); scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js'; vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
                </div>
              </div>
            </div>


            <hr class="mt-5">

            <h2 id="list-item-4" class="pt-3">Detecting URL changes</h2>
            <p>This is not a ruleset. This is a demo of a nifty feature to find errors or
              warnings after detecting a URL
              change on the same page. For example, single page applications (SPA). A
              non-descript link will be appended
              to the page 1 second after the page is fully loaded. It will not receive an
              error flag initially.</p>
            <p><strong>To test:</strong> Wait for the "click here" link to load. Then:</p>
            <button id="btn-test" class="btn btn-sm btn-primary m-1"></button>

            <div class="row">
              <div class="col-md-6">
                <div class="example text-center">
                  <p id="demo"></p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="example text-center">
                  <p id="demo2"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer
    class="sa11y-ignore d-flex flex-wrap bg-dark text-white justify-content-between align-items-center py-5 mt-5">
    <div class="container">
      <span class="text-muted">This footer area is ignored. If a content editor can't fix
        it, don't scan it. <a href="#">link</a> will be ignored.</span>
    </div>
  </footer>
  <script src="../version.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous">
    </script>

  <!-- Sa11y -->
  <script type="module" src="../script.js"></script>

  <!-- Misc -->
  <script>
    window.addEventListener('load', (event) => {
      const myTimeout = setTimeout(test, 1000);
      const myTimeout2 = setTimeout(test2, 6000);

      function test() {
        document.getElementById("demo").innerHTML = `<a href="#">click here</a>`;
      }

      function test2() {
        document.getElementById("demo2").innerHTML = `<a href="#">learn more</a>`;
      }
    });

    const btn = document.getElementById("btn-test");
    btn.textContent = "click me to change URL";
    btn.addEventListener("click", (e) => {
      window.history.replaceState('test', 'Home', 'index.html');
      const reset = () => { window.history.replaceState('test1', 'Other', 'other.html') };
      setTimeout(reset, 1000);
    }, false);
  </script>

</body>

</html>